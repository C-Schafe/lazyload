<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>JS Bin</title>
  <style type="text/css">
    .container {
      display: flex;
      flex-wrap: wrap;
      border: 1px red solid;
      width: 700px;
      margin: 0 auto;
      justify-content:space-around;
    }
    .pic-ct img{
      width: 300px;
    }
    .pic-ct {
      height: 300px;
      width: 300px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="pic-ct">
      <img src="" data-src="https://cdn.pixabay.com/photo/2017/12/22/11/09/schilthorn-3033448__340.jpg">
    </div>
    <div class="pic-ct">
      <img src="" data-src="https://cdn.pixabay.com/photo/2017/12/10/17/40/prague-3010407__340.jpg">
    </div>
    <div class="pic-ct">
      <img src="" data-src="https://cdn.pixabay.com/photo/2015/11/27/20/28/florence-1066314__340.jpg">
    </div>
    <div class="pic-ct">
      <img src="" data-src="https://cdn.pixabay.com/photo/2018/04/15/02/08/architecture-3320696__340.jpg">
    </div>
    <div class="pic-ct">
      <img src="" data-src="https://cdn.pixabay.com/photo/2018/03/31/22/11/architecture-3279453__340.jpg">
    </div>
    <div class="pic-ct">
      <img src="" data-src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=685664066,645281607&fm=200&gp=0.jpg">
    </div>
    <div class="pic-ct">
      <img src="" data-src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3120689388,1383905542&fm=200&gp=0.jpg">
    </div>
    <div class="pic-ct">
      <img src="" data-src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3390346388,3397580780&fm=200&gp=0.jpg">
    </div>
    <div class="pic-ct">
      <img src="" data-src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=2532543726,1405641974&fm=27&gp=0.jpg">
    </div>
    <div class="pic-ct">
      <img src="" data-src="https://cdn.pixabay.com/photo/2016/10/21/09/25/sunset-1757593__340.jpg">
    </div>
  </div>
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
  <script type="text/javascript">
    
    var _Exposure = (function(){
      function Exposure($node,callback){
      this.$node = $node
      this.callback = callback
      this.checkShow()
      this.bind()
    }

    Exposure.prototype.bind = function(){
      var _this = this
      $(window).on('scroll', function(){
        if(_this.isShow(_this.$node)){
          _this.callback()
        }
      })
    }

    Exposure.prototype.checkShow = function(){
        if(this.isShow(this.$node)){
          this.callback()
        }
    }

    Exposure.prototype.isShow = function(){
      var offset = this.$node.offset().top;
      var scrollTop = $(window).scrollTop();
      var windowHeight = $(window).height()
      if(offset >= scrollTop && offset <= (windowHeight + scrollTop)){
          return true
      }else{
          return false
      } 
    }

    Exposure.prototype.loadPic = function(){
      if( isShow(node) && !isLoaded(node)){
        node.attr('src',node.attr('data-src'))
      } 
    }

    return {
       launch: function($node,callback){
          $node.each(function(index,element){
            new Exposure($(element),callback)
          })
       }
    }
    })()
    
    _Exposure.launch($('.container img'), function(){
        this.$node.attr('src',this.$node.attr('data-src'))
    })
  
  </script>
</body>
</html>
